<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Ranking de Músicas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f5f5f5;
    }

    h1 {
      text-align: center;
    }

    .music {
      margin-bottom: 10px;
      background: #fff;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 4px rgba(0,0,0,0.1);
    }

    .stars span {
      cursor: pointer;
      font-size: 20px;
      color: gray;
    }

    .stars span.selected {
      color: gold;
    }

    #resultado {
      margin-top: 30px;
      background-color: #e0ffe0;
      padding: 20px;
      border-radius: 8px;
      display: none;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 20px;
      display: block;
      margin-left: auto;
      margin-right: auto;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>Rankeie as Músicas</h1>

  <div id="musicas"></div>

  <button onclick="enviarVotacao()">Enviar Votação</button>

  <div id="resultado"></div>

  <script>
    const musicas = [
      "Música 1", "Música 2", "Música 3", "Música 4", "Música 5",
      "Música 6", "Música 7", "Música 8", "Música 9", "Música 10",
      "Música 11", "Música 12", "Música 13", "Música 14", "Música 15",
      "Música 16", "Música 17", "Música 18", "Música 19", "Música 20",
      "Música 21", "Música 22"
    ];

    const avaliacoes = {};

    const container = document.getElementById("musicas");

    musicas.forEach((nome, index) => {
      const div = document.createElement("div");
      div.className = "music";
      div.innerHTML = `<strong>${nome}</strong>
        <div class="stars" data-id="${index}">` +
        [1,2,3,4,5].map(i => `<span data-star="${i}">&#9733;</span>`).join("") +
        `</div>`;
      container.appendChild(div);
      avaliacoes[index] = 0;
    });

    document.querySelectorAll(".stars").forEach(starBlock => {
      starBlock.addEventListener("click", function(e) {
        if (e.target.tagName === "SPAN") {
          const star = parseInt(e.target.dataset.star);
          const id = this.dataset.id;
          avaliacoes[id] = star;

          const spans = this.querySelectorAll("span");
          spans.forEach((s, i) => {
            s.classList.toggle("selected", i < star);
          });
        }
      });
    });

    function enviarVotacao() {
      const resultado = Object.entries(avaliacoes)
        .map(([id, score]) => ({ musica: musicas[id], estrelas: score }))
        .sort((a, b) => b.estrelas - a.estrelas)
        .slice(0, 3);

      const divResultado = document.getElementById("resultado");
      divResultado.innerHTML = "<h2>Top 3 Músicas:</h2>" + resultado.map((m, i) =>
        `<p><strong>${i + 1}º:</strong> ${m.musica} - ${m.estrelas} estrela(s)</p>`).join("");
      divResultado.style.display = "block";
    }
  </script>

</body>
</html>